## PCA-NDWI高光谱遥感影像城市水域提取

### 一、数据

1. 类型：高光谱遥感影像
2. 详情：
   - 波长范围：400nm-1000nm
   - 光谱分辨率：2.5nm，共300个光谱通道
3. 来源：由课题组自主开发的高光谱成像仪集成系统和UVA(杭州高光谱成像技术有限公司研发)拍摄



## 二、方法

![image-20230829203332021](https://img2023.cnblogs.com/blog/2213660/202308/2213660-20230829203333768-610259681.png)

RG: 绿光波段反射率

RN：近红外波段反射率

> 传统方法(用于对比)

#### 1、使用NDWI指数

1) 使用**波长为563nm**的高光谱反射率作为绿光波段反射率(RG)，**波长为865nm**的高光谱反射率作为近红外波段反射率(RN)计算NDWI：

![image-20230829203930211](https://img2023.cnblogs.com/blog/2213660/202308/2213660-20230829203931910-1520755034.png)

2) 使用**波长范围为520-600nm**的**平均**反射率作为RG，**760-950nm**的**平均**反射率作为RN计算NDWI：

![image-20230829204217613](https://img2023.cnblogs.com/blog/2213660/202308/2213660-20230829204219280-1118135304.png)

#### 2、HDWI指数

对**波长范围为520-600nm**的反射率积分作为RG，**760-950nm**的反射率积分作为RN计算NDWI：![image-20230829205048335](https://img2023.cnblogs.com/blog/2213660/202308/2213660-20230829205050043-1178718608.png)

#### 3、K-means聚类(非监督分类)

1. 选择初始化的 k 个样本作为初始聚类中心

2. 针对数据集中每个样本计算它到k个聚类中心的距离dis并将其分到距离最小的聚类中心所对应的类中

   ![image-20230829221629700](https://img2023.cnblogs.com/blog/2213660/202308/2213660-20230829221631853-1389086053.png)

   Xi为样本，Cj为聚类中心，m为每个样本的特征维度

3. 样本点划分完毕后，再次计算每个聚类的聚类中心，迭代地重复分配样本点，直到每个点到其对应聚类的聚类中心误差平方和（SSE）不变

   ![image-20230829221734807](https://img2023.cnblogs.com/blog/2213660/202308/2213660-20230829221736589-920226611.png)

4. 本研究使用的K值为20



> 新的方法

#### PCA-NDWI指数方法

分别对**520-600nm**和**760-950nm**进行PCA(主成分分析)，选择分析之后的第一主成分为PG，PN，然后计算NDWI:

![image-20230829222759008](https://img2023.cnblogs.com/blog/2213660/202308/2213660-20230829222800866-1528540933.png)



PCA分析是最常用的线性降维方法，其目的，就是为了在尽量保证“信息量不丢失”的情况下，对原始特征进行降维

对于高光谱数据来说，其优点在于可以很灵敏的反映地物的光谱特征，但在分类时，这种**灵敏**可能会导致结果的不正确。在机器学习中有**欠拟合**和**过拟合**两个概念，**欠拟合**表示拟合度不够，可以对应遥感数据中的多光谱数据，由于光谱分辨率低，很多信息无法被详细的反映，导致不同种类的物体展现的光谱特征相同，即**同谱异物**；而**过拟合**则恰恰相反，它对应的就是遥感数据中的高光谱数据，由于光谱分辨率高，地物的反射率会受到阴影、耀斑等多种噪音的干扰，而导致同种地物展现的光谱特征不同，即**同物异谱**。

所以，对于高光谱数据，进行PCA分析，可以一定程度上降低噪音的干扰，同时将多维度的特征转换为低纬度甚至一维特征，可以减少后续数据的处理难度



#### PCA分析步骤

1. 对数据进行中心化：去均值
2. 计算数据的协方差矩阵
3. 求解协方差矩阵的特征向量和特征值
4. 将特征值与特征向量组合，并对特征值进行降序排序
5. 将排序后的特征向量组合成特征向量矩阵
6. 将中心化后的数据与特征向量矩阵的转置相乘得到新的数据



